# 2023 01 06 Javascript 복습 정리

## this
1. 함수에서의 this
this는 arguments처럼 함수가 실행될 때 함께 함수에 전달이 된다(Execution context에 올라감) 함수 내부에서의 this는 전역객체(window)를 참조하고 있다

``` Javascript
<div id = "thisNote" class = "note"></div>
<script>
// window 객체에 속성으로 등록하기 위해 var 사용
var who = '전역객체의 who 입니다';

function info(){
    var who = 'info 함수의 who 입니다';
    $('#thisNote', `who : ${who}`)
    $('#thisNote', `this.who :${this.who}`)
    console.dir(this);
}
info()
</script>
```

> 결과 : info 함수의 who 입니다 전역객체의 who 입니다 

2. 메소드에서의 this
메소드 안에서의 this는 해당 메소드를 호출할 때 사용한 객체가 바인딩 된다

``` Javascript
<div id = 'thisNote2' class = "note"></div>
<script>
var methodwho = '전역객체의 who 입니다'

let univ = {
    methodwho :  '한국대학교의 who 입니다', 
    info : function(){
        $('#thisNote2', this.methodwho);
        console.dir(this);
    }

    let kor = {
        methodwho : 'kor의 who 입니다';
        info:univ.info
    }
    
    univ.info();
    kor.info();
}
</script>
```

3. 생성자 함수에서의 this
생성자 함수는 자신이 호출되는 시점에 함수의 실행결과로 반환될 빈 객체를 생성하고 this 레퍼런스에 참조시킨다 생성자 함수로 사용될 때 return이 없다면 자동으로 this를 반환한다 만약 return문이 존재한다면,
- 1. 기본타입을 반환한는 return문이라면 무시하고 this를 반환
- 2. 객체를 반환하는 return문이라면 return문에 명시한 객체를 반환

``` Javascript
<div id = "thisNote3" class = "note"></div>
<script>
function Info(){
    this.info = function(){
        $('#thisNote3',this.who);
    }
}
let univInfo = new Info();
univInfo.who = '한국대학교 학생';
univInfo.info();
```

4. 화살표 함수에서의 this
화살표 함수는 호출될 때 this를 전달받지 않는다 화살표 함수는 this를 전달받지 않기 때문에, 객체의 메소드나 생성자 함수에 메소드를 선언할 때 사용하지 않는다 화살표 함수에서의 this는 상위 스코프의 this가 된다

``` Javascript
<div id = 'thisNote4' class = 'note'></div>
<script>
let outerFnc = ()=> {
    $('#thisNote4', `전역에 선언된 화살표 함수의 this : ${this.who}`);
    console.dir(this);
}

outerFnc();

let testObj = {
    who : 'testObj의 who 입니다',
    fnc : function(){
        $('#thisNote4', `메서드로 작성된 일반 함수의 this : ${this.who}`);
        console.dir(this);
    },
    
    arrow : () => {
        $('#thisNote4', `메서드로 작성된 화살표 함수의 this : ${this.who}`);
        console.dir(this);
    },

    innerfnc : function(){
        (function(){
             $('#thisNote4', `메서드 안에 함수로 작성된 일반 함수의 this : ${this.who}`);
             console.dir(this);
        }
        
        )
    }


}
```