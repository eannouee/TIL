# 2023 01 31 Spring 복습 정리 

## 표현 언어
자바 코드가 들어가는 표현식을 좀 더 편리하게 사용하기 위해 JSP 2.0부터 도입된 데이터 출력 기능이다. 디자이너 입장에서 JSP 페이지 안에 복잡한 자바 코드가 있으면 화면 작업을 하기 어렵다는 문제로 현재 JSP 페이지는 스크립트 요소보다는 표현언어와 JSTL(JSP Standard Tag Library, JSP 표준 태그 라이브러리)을 사용해서 구현한다. 

특징
- 기존 표현식보다 편리하게 값을 출력한다.
- 변수와 여러 가지 연산자를 포함할 수 있다. JSP의 내장 객체에 저장된 속성 및 자바의 빈 속성도 표현 언어에서 출력할 수 있다. 
- 표현 언어 자체 내장 객체도 제공된다.
- JSP 페이지 생성 시 기본 설정은 표현 언어를 사용할 수 없다.
- 페이지 데릭트비 태그에서는 반드시 isELIgnored=false로 설정해야 한다.

형식
- ${표현식 or 값}

### pageContext
javax.servlet.jsp.PageContext 클래스를 상속해 웹 컨테이너가 JSP 실행 시 자동으로 생성해서 제공하는 내장 객체이다. a 태그를 이용해서 다른 서블릿이나 JSP를 요청하는 방법은 두 가지 이다.
1. 컨텍스트 이름을 직접 입력
- < a  href ="/pro14/test01/memberForm.jsp">회원 가입하기< /a>
2. getContextPath() 메소드를 이용해 컨텍스트 이름을 가져오는 방법 
- < a  href ="<%=request.getContextPath() %>/test01/memberForm.jsp">회원 가입하기< /a>

첫 번째 방법은 컨텍스트 이름이 바뀌면 일일이 찾아서 수정해야 한다는 단점이 있고 두 번째 방법은 자바 코드가 사용되므로 화면 작업이 복잡해진다는 단점이 있다. 그러나 pageContext의 속성인 request의 contextPath 속성을 이용하면 쉽게 컨텍스트 이름을 가져올 수 있다. 
- Ex) < a href ="${pageContext.request.contextPath}/test01/memberForm.jsp">회원 가입하기< /a>

### Core 태그 라이브러리 
JSP에서 변수 선언, 조건식, 반복문 기능을 자바 코드를 이용해서 구현하는 점을 태그로 대체할 수 있다. 톱캣에서는 JSTL 라이브러리를 기본으로 제공하지 않고 외부 라이브러리에서 가져와 기능을 수행한다. 따라서 자바의 import문처럼 코어 태그 라이브러리를 사용하려면 반드시 JSP 페이지 상단에 다음와 같이 taglib 디렉티브 태그를 추가해서 톰캣에게 알려주어야 한다. 
- <%@ taglib prefix = "c" uri ="http://java.sum.com/jsp/jstl/core" %>

Core 태그 라이브러리 기능
- c:set : JSP 페이지에서 변수를 지정한다.
  - < c:set var = "변수이름" value ="변수값" scope = "scope 속성 중 하나(page, request, session, application 중 하나) />
- c:remove : 지정된 변수를 제거한다. 
- c:if : 조건문을 사용한다. 
- c:choose : switch문을 사용한다.(c:when과 c:otherwise 서브 태그를 갖는다.)
- c:forEach : 반복문을 사용한다. 
- c:forTokens : 구분자로 분리된 각각의 토큰을 처리할 때 사용한다. 
- c:import : URL을 이용해 다른 자원을 JSP 페이지에 추가한다. 
- c:redirect : response.sendRedirect() 기능을 수행한다. 
- c:url : 요청 매개변수로부터 URL을 생성한다. 
- c:catch : 예외 처리에 사용한다. 
- c:out : JspWriter에 내용을 처리한 후 출력한다. 


## HTML5과 JQuery
### 제이쿼리 Ajax 기능 
클라이언트 측에서의 작업과는 상관 없이 비동기적으로 서버와 작업을 수행할 때 Ajax 기능을 사용한다.
- Ajax란, Asynchronous Javascript(비동기 자바스크립트) + XML
- 자바스크립트를 사용한 비동기 통신, 즉 클라이언트와 서버 간의 XML이나 JSON 데이터를 주고받는 기술을 의미한다. 
- 페이지 이동 없이 데이터 처리가 가능하며 서버의 처리를 기다리지 않고 비동기 요청이 가능하다. 


## 모델2 방식으로 효울적으로 개발하기 
일반적으로 어떤 일을 맡아 진행하게 되면 일단에 기존에 주로 사용했던 방법이나 방식을 따르게 된다. 웹 애플리케이션 개발도 마찬가지인데 처음부터 새로 개발하는 것이 아니라 기존에 웹 애플리케이션 개발 방법이나 방식을 따른다. 
따라서 지금의 웹 애플리케이션 개발은 일반적으로 많이 사용하는 표준화 소스 구조를 만들어 개발을 진행한다. 이러한 표준화된 소스 구조를 웹 애플리케이션 모델이라고 한다. 

### 모델1 방식 
모든 클라이언트 요청과 비즈니스 로직 처리를 JSP가 담당하는 구조, 기능 구현이 쉽고 편리하다는 장점이 있지만 반면에 요즘처럼 웹 사이트 화면 기능이 복잡해지면 화면 기능과 비즈니스 로직 기능이 섞이면서 유지보수에 문제 발생 

## 모델2 방식 
웹 애플리케이션의 각 기능(클라이언트의 요청 처리, 응답 처리, 비즈니스, 로직 처리)을 분리해서 구현한 것 (객체지향 프로그래밍에서의 각각 기능을 모듈화하여 개발하는 것과 같은 원리)

특징 
- 각 기능이 서로 분리되어 있어 개발 및 유지보수가 쉽다.
- 각 기능(모듈)의 재사용성이 높다
- 디자니어와 개발자의 작업을 분업화해서 쉽게 개발 가능하다.
- 모델2 방식과 관련된 기능이나 개념의 학습이 필요하다. 

### MVC 디자인 패턴 
Model View Controller, 일반 PC 프로그램 개발에 사용되는 디자인 패턴을 웹 애플리케이션에 도입한 것 
- MVC 구성 요소 : Controller, Model, View
- Controller : 사용자의 요청 및 흐름 제어를 담당 
  - 서블릿이 컨트롤러의 역할을 한다
  - 클라이언트의 요청을 분석한다
  - 요청에 대해서 필요한 모델을 호출한다
  - Model에서 처리한 결과를 보여주기 위해 JSP를 선택한다.
- Model : 비즈니스 로직을 처리 
  - 데이터베이스 연동과 같은 비즈니스 로직을 수행한다.
  - 일반적으로 DAO와 VO 클래스로 이루어져 있다. 
- View : 사용자에게 보여줄 화면을 담당 

## Framework
기능을 미리 클래스나 인터페이스 등으로 만들어 제공하는 반제품 즉, 어느 정도 완성된 상태로 제공하는 기능 
- 프레임워크를 사용하는 이유를 한마디로 정의하면 일정한 기준에 따라 개발이 이루어지므로 개발 생산성과 품질이 보장된 애플리케이션을 개발할 수 있기 때문 

### Spring Framework
자바 웹 애플리케이션 개발을 위한 오픈 소스 프레임워크로 기존 프레임워크보다 가벼운 경량 프레임워크이다. 
- 대표적으로 톰캣, 톰캣은 서블릿 컨테이너라 부르는데 그 이유는 톰캣을 실행하면 서블릿의 생성, 초기화, 서비스 실행, 소멸에 관한 모든 권한을 가지고 서블릿을 관리하기 때문

스프링의 특징 
- EJB보다 가볍고 배우기도 쉬우며 경량 컨테이너의 기능을 수행
- 제어 역행(IoC, Inversion of Control) 기술을 이용해 애플리케이션 간의 느슨한 결합을 제어
- 의존성 주입 기능을 지원
- 관점 지향(AOP, Aspect-Object Programming) 기능을 이용해 자원 관리를 수행 
- 영속성과 관련된 다양한 서비스를 지원
- 수많은 라이브러리와의 연동 기능을 지원 

- 의존성 주입 : 클래스 객체를 개발자가 코드에서 생성하지 않고 프레임워크가 생성하여 사용하는 방법
- 제어 역행 : 서블릿이나 빈 등을 개발자가 코드에서 생성하지 않고 프레임워크가 직접 수행하는 방법
- 관점 지향 : 핵심 기능 외 부수 기능들을 분리 구현함으로써 모듈성을 증가시키는 방법 

### 의존성 주입하기(Defendency Injection)
의존성 주입이란 연관 관계를 개발자가 직접 코딩을 통해 컴포넌트(클래스)에 부여하는 것이 아니라 컨테이너가 연관관계를 직접 규정하는 것이다. 그러면 코드에서 직접적인 연관 관계가 발생하지 않으므로 각 클래스들의 변경이 자유로워진다.(loosely coupled, 약한 결합)
- 스프링에서 의존성 주입을 구현하려면 XML이나 어노테이션을 이용해 객체를 주입하여 객체들의 의존 관계를 맺어주면 된다. 즉, DI를 사용하여 각 객체들 간의 의존 관계를 최소화함으로써 코드를 단순화하고 유지보수를 쉽게 할 수 있다. 
- DI는 경량 컨테이너에 해당하는 스프링 프레임워크가 제어, 따라서 기존 코드에서 개발자가 직접 제어했지만 스프링 프레임워크에서는 객체의 제어를 스프링이 직접 담당하므로 제어의 역전이라고 한다.
- 여기서 각 클래스를 bean이라고 부르는데 이는 의족 관계를 설정하는 외부 XML 파일에서 각각의 객체를 bean 태그로 표시하기 때문 






참고자료)

[자바 웹을 다루는 기술_길벗](https://www.gilbut.co.kr/)